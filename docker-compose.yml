services:
  pearl:
    build: .
    image: pearl:latest
    read_only: true
    ports:
      - "8080:8080"
    volumes:
      - ./config.yaml:/config.yaml:ro
      # Mount your GCP service account credentials or use workload identity.
      # - ./credentials.json:/credentials.json:ro
    environment:
      # If using a service account key file, set this path inside the container.
      # GOOGLE_APPLICATION_CREDENTIALS: /credentials.json
      GOOGLE_APPLICATION_CREDENTIALS: ""
    command: ["/pearl", "-config", "/config.yaml"]
    restart: unless-stopped
